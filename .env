##
# Project environment variables.
#
# It is used by Ahoy and other scripts to read default values.
#
# It is also a single place to define variables that control how the DrevOps
# works without the need to modify scripts.
#
# The values must be scalar (cannot be another variable). Do not enclose values
# in double quotes unless they contain spaces.
#
# To apply any changes made to this file, run `ahoy up cli`.
#
# To customise variables locally, copy default.env.local to .env.local.
#
# Update stack with `ahoy update`.
#
# @see https://docs.drevops.com/maintenance
# @see https://docs.drevops.com/variables/

################################################################################
#                                  GENERAL                                     #
################################################################################

# Project name.
DREVOPS_PROJECT=your_site

# Local development URL (no trailing slashes).
DREVOPS_LOCALDEV_URL=your-site.docker.amazee.io

# Path to the root of the project inside of the container.
DREVOPS_APP=/app

# Dedicated branch to identify production environment.
DREVOPS_PRODUCTION_BRANCH=master

# Local database host (not used in production).
DREVOPS_MARIADB_HOST=mariadb

# Local database user (not used in production).
DREVOPS_MARIADB_USER=drupal

# Local database password (not used in production).
DREVOPS_MARIADB_PASSWORD=drupal

# Local database port (not used in production).
DREVOPS_MARIADB_PORT=3306

################################################################################
#                                  DRUPAL                                      #
################################################################################

# Drupal version.
DREVOPS_DRUPAL_VERSION=9

# Drupal theme name.
DREVOPS_DRUPAL_THEME=your_site_theme

# Drupal profile name (used only when installing from profile).
DREVOPS_DRUPAL_PROFILE=your_site_profile

# Drupal site name (used only when installing from profile).
DREVOPS_DRUPAL_SITE_NAME="YOURSITE"

# Drupal site email (used only when installing from profile).
DREVOPS_DRUPAL_SITE_EMAIL="webmaster@your-site-url"

# Put the site into a maintenance mode during the build.
DREVOPS_DRUPAL_BUILD_WITH_MAINTENANCE_MODE=1

# Unblock admin account after build finishes.
DREVOPS_DRUPAL_UNBLOCK_ADMIN=1

# Sanitization email pattern. Sanitisation is enabled by default in all
# non-production environments.
# @see https://docs.drevops.com/build#sanitization
DREVOPS_DRUPAL_DB_SANITIZE_EMAIL="%uid@your-site-url"

# Set to 1 to force fresh install even if the site exists.
# Useful for profile-based deployments into existing environments.
DREVOPS_DRUPAL_FORCE_FRESH_INSTALL=0

# Export DB exporting before importing.
# DREVOPS_DB_EXPORT_BEFORE_IMPORT=1

# Skip DB sanitization during build.
# DREVOPS_DRUPAL_DB_SANITIZE_SKIP=1

# Drupal admin email. May need to be reset if database was sanitized.
# DREVOPS_DRUPAL_ADMIN_EMAIL="webmaster@your-site-url"

# Replace username with email after databasse sanitization. Useful when email
# is used as username.
# DREVOPS_DRUPAL_DB_SANITIZE_REPLACE_USERNAME_WITH_EMAIL=1

################################################################################
#                                   TOOLS                                      #
################################################################################

# Validate composer.lock file.
DREVOPS_COMPOSER_VALIDATE_LOCK=1

# PHP Parallel Lint comma-separated list of extensions (no preceding dot).
DREVOPS_LINT_PHPLINT_EXTENSIONS="php, inc, module, theme, install"

# PHP Parallel Lint comma-separated list of targets.
DREVOPS_LINT_PHPLINT_TARGETS="docroot/profiles/custom/your_site_profile, docroot/modules/custom, docroot/themes/custom, docroot/sites/default/settings.php, tests"

# PHPCS comma-separated list of targets.
DREVOPS_LINT_PHPCS_TARGETS="docroot/profiles/custom/your_site_profile, docroot/modules/custom, docroot/themes/custom, docroot/sites/default/settings.php, tests"

# Allow BE code linting failures.
DREVOPS_LINT_BE_ALLOW_FAILURE=0

# Allow FE code linting failures.
DREVOPS_LINT_FE_ALLOW_FAILURE=0

# Allow custom Unit tests failures.
DREVOPS_TEST_UNIT_ALLOW_FAILURE=0

# Allow custom Kernel tests failures.
DREVOPS_TEST_KERNEL_ALLOW_FAILURE=0

# Allow custom Functional tests failures.
DREVOPS_TEST_FUNCTIONAL_ALLOW_FAILURE=0

# Allow BDD tests failures.
DREVOPS_TEST_BDD_ALLOW_FAILURE=0

################################################################################
#                             DATABASE SOURCE                                  #
################################################################################

# Database dump data directory (file or Docker image archive).
DREVOPS_DB_DIR=./.data

# Database dump file name (Docker image archive will use '.tar' extension).
DREVOPS_DB_FILE=db.sql

# Database can be sourced from one of the following locations:
# - "url" - directly from URL as a file using CURL.
# - "ftp" - directly from FTP as a file using CURL.
# - "acquia" - from the latest Acquia backup via Cloud API as a file.
# - "lagoon" - from Lagoon master enveronment as a file.
# - "docker_registry" - from the docker registry as a docker image.
# - "none" - not downloaded, site is freshly installed for every build.
#
# Note that "docker_registry" works only for database-in-Docker-image
# database storage (when DREVOPS_DB_DOCKER_IMAGE variable has a value).
DREVOPS_DB_DOWNLOAD_SOURCE=curl

#;< !DREVOPS_DB_DOWNLOAD_SOURCE_DOCKER_REGISTRY
# Database dump file source from CURL, with optional HTTP Basic Authentication
# credentials embedded into the value.
DREVOPS_DB_DOWNLOAD_CURL_URL=
#;> !DREVOPS_DB_DOWNLOAD_SOURCE_DOCKER_REGISTRY


#;< FTP
# Database dump file sourced from FTP.

# Database dump FTP host.
DREVOPS_DB_DOWNLOAD_FTP_HOST=

# Database dump FTP port.
DREVOPS_DB_DOWNLOAD_FTP_PORT=21

# Database dump FTP file name.
DREVOPS_DB_DOWNLOAD_FTP_FILE=db.sql
#;> FTP

#;< ACQUIA
# Database dump file sourced from Acquia.

# Database dump Acquia applcation name.
AC_API_APP_NAME=

# Database dump Acquia database environment.
AC_API_DB_ENV=prod

# Database dump Acquia database name.
AC_API_DB_NAME=your_site
#;> ACQUIA

#;< LAGOON
# Database dump file sourced from Lagoon.

# Lagoon environment to download DB from.
DREVOPS_DB_DOWNLOAD_LAGOON_ENVIRONMENT=master

# Use Lagoon Drush aliases to get access to environments from the CLI container.
# DREVOPS_LAGOON_ENABLE_DRUSH_ALIASES=1
#;> LAGOON

################################################################################
#                             DATABASE STORAGE                                 #
################################################################################

# Database can be stored in a file and then imported into an empty database
# started from the database default image OR in a pre-built Docker image.
# Defaults to storage in a file.
# @see https://docs.drevops.com/database

################################################################################
#                                DEPLOYMENT                                    #
################################################################################

#;< DEPLOYMENT
# The type of deployemt.
# @see https://docs.drevops.com/deployment

# Combination of comma-separated values to support multiple deployments: "code",
# "docker", "webhook", "lagoon".
DREVOPS_DEPLOY_TYPE=code
#;> DEPLOYMENT

#;< DEMO
#-------------------------------------------------------------------------------
# Variables used to override project-specific values for demonstration purposes.
#
# This is to allow to demonstrate how DrevOps works without asking users
# to perform any additional steps when trying out DrevOps for the first time.
#
# Remove this section from your project when database download integration setup
# is finished.
#-------------------------------------------------------------------------------

#;< !DREVOPS_DB_DOWNLOAD_SOURCE_DOCKER_REGISTRY
# Location of the demo database used for demonstration with CURL database
# dump as a type of file source.
DREVOPS_DB_DOWNLOAD_CURL_URL=https://raw.githubusercontent.com/wiki/drevops/drevops/db_d9.dist.sql.md
#;> !DREVOPS_DB_DOWNLOAD_SOURCE_DOCKER_REGISTRY

#;< DREVOPS_DB_DOCKER_IMAGE
# The name of the demo database image used for demonstration only for
# database-in-Docker-image data storage.
#; The line below will be automatically uncommented for database-in-Docker-image
#; storage. It is commented out to allow running non-database-in-Docker-image
# workflow by default.
##### DREVOPS_DB_DOCKER_IMAGE=drevops/drevops-mariadb-drupal-data-demo-9.x
#;> DREVOPS_DB_DOCKER_IMAGE
#;> DEMO
